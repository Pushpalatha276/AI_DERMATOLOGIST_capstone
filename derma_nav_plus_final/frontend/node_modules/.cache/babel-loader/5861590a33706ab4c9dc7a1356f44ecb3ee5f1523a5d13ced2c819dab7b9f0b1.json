{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SkinPredictor=()=>{var _result$details,_result$details2,_result$details3,_result$details4;const[file,setFile]=useState(null);const[preview,setPreview]=useState(null);const[result,setResult]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const handleFileChange=e=>{const selectedFile=e.target.files[0];setFile(selectedFile);setPreview(URL.createObjectURL(selectedFile));setResult(null);};const handleSubmit=async()=>{if(!file){setError('Please upload an image first.');return;}setError('');setLoading(true);const formData=new FormData();formData.append('image',file);try{const res=await axios.post('http://localhost:5000/api/predict',formData,{headers:{'Content-Type':'multipart/form-data'}});setResult(res.data);}catch(err){console.error(err);setError('Error predicting image. Please try again.');}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col justify-center items-center px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-2xl rounded-3xl p-8 w-full max-w-md transition transform hover:scale-105\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-semibold text-center text-blue-700 mb-6\",children:[\"Derma\",/*#__PURE__*/_jsx(\"span\",{className:\"text-sky-500\",children:\"Scan+\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 border-dashed border-blue-400 rounded-xl p-6 text-center bg-blue-50 hover:bg-blue-100 transition cursor-pointer\",children:[preview?/*#__PURE__*/_jsx(\"img\",{src:preview,alt:\"preview\",className:\"w-full h-48 object-cover rounded-lg shadow-md mb-3\"}):/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-600 font-medium\",children:\"Click to upload an image of the affected skin\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",className:\"hidden\",id:\"fileInput\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fileInput\",className:\"mt-3 inline-block bg-blue-600 text-white px-5 py-2 rounded-full hover:bg-blue-700 transition\",children:file?'Change Image':'Upload Image'})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"mt-6 w-full bg-gradient-to-r from-sky-500 to-blue-600 text-white py-3 rounded-full font-semibold hover:shadow-lg transition-all\",children:loading?'Analyzing...':'Analyze Skin Condition'}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 border-4 border-blue-400 border-t-transparent rounded-full animate-spin\"})}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 text-center mt-3 font-medium\",children:error}),result&&result.prediction&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 bg-gradient-to-r from-blue-100 to-sky-100 rounded-xl p-5 shadow-inner\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-blue-700 text-center mb-2\",children:((_result$details=result.details)===null||_result$details===void 0?void 0:_result$details.disease)||result.prediction}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700 text-sm mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:\"Description: \"}),(_result$details2=result.details)===null||_result$details2===void 0?void 0:_result$details2.description]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700 text-sm mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:\"Precautions: \"}),(_result$details3=result.details)===null||_result$details3===void 0?void 0:_result$details3.precautions]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700 text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:\"Cure: \"}),(_result$details4=result.details)===null||_result$details4===void 0?void 0:_result$details4.cure]})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mt-6\",children:[\"Powered by \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-blue-600\",children:\"AI Dermatology Model\"})]})]});};export default SkinPredictor;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","SkinPredictor","_result$details","_result$details2","_result$details3","_result$details4","file","setFile","preview","setPreview","result","setResult","loading","setLoading","error","setError","handleFileChange","e","selectedFile","target","files","URL","createObjectURL","handleSubmit","formData","FormData","append","res","post","headers","data","err","console","className","children","src","alt","type","accept","id","onChange","htmlFor","onClick","prediction","details","disease","description","precautions","cure"],"sources":["C:/Users/kusum/AI_DERMATOLOGIST_capstone/derma_nav_plus_final/frontend/src/components/SkinPredictor.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst SkinPredictor = () => {\r\n  const [file, setFile] = useState(null);\r\n  const [preview, setPreview] = useState(null);\r\n  const [result, setResult] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleFileChange = (e) => {\r\n    const selectedFile = e.target.files[0];\r\n    setFile(selectedFile);\r\n    setPreview(URL.createObjectURL(selectedFile));\r\n    setResult(null);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!file) {\r\n      setError('Please upload an image first.');\r\n      return;\r\n    }\r\n    setError('');\r\n    setLoading(true);\r\n    const formData = new FormData();\r\n    formData.append('image', file);\r\n\r\n    try {\r\n      const res = await axios.post('http://localhost:5000/api/predict', formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      });\r\n      setResult(res.data);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setError('Error predicting image. Please try again.');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col justify-center items-center px-4\">\r\n      <div className=\"bg-white shadow-2xl rounded-3xl p-8 w-full max-w-md transition transform hover:scale-105\">\r\n        <h1 className=\"text-3xl font-semibold text-center text-blue-700 mb-6\">\r\n          Derma<span className=\"text-sky-500\">Scan+</span>\r\n        </h1>\r\n\r\n        {/* Image Upload Section */}\r\n        <div className=\"border-2 border-dashed border-blue-400 rounded-xl p-6 text-center bg-blue-50 hover:bg-blue-100 transition cursor-pointer\">\r\n          {preview ? (\r\n            <img\r\n              src={preview}\r\n              alt=\"preview\"\r\n              className=\"w-full h-48 object-cover rounded-lg shadow-md mb-3\"\r\n            />\r\n          ) : (\r\n            <p className=\"text-blue-600 font-medium\">\r\n              Click to upload an image of the affected skin\r\n            </p>\r\n          )}\r\n          <input\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            className=\"hidden\"\r\n            id=\"fileInput\"\r\n            onChange={handleFileChange}\r\n          />\r\n          <label\r\n            htmlFor=\"fileInput\"\r\n            className=\"mt-3 inline-block bg-blue-600 text-white px-5 py-2 rounded-full hover:bg-blue-700 transition\"\r\n          >\r\n            {file ? 'Change Image' : 'Upload Image'}\r\n          </label>\r\n        </div>\r\n\r\n        {/* Predict Button */}\r\n        <button\r\n          onClick={handleSubmit}\r\n          className=\"mt-6 w-full bg-gradient-to-r from-sky-500 to-blue-600 text-white py-3 rounded-full font-semibold hover:shadow-lg transition-all\"\r\n        >\r\n          {loading ? 'Analyzing...' : 'Analyze Skin Condition'}\r\n        </button>\r\n\r\n        {/* Loading Animation */}\r\n        {loading && (\r\n          <div className=\"mt-4 flex justify-center\">\r\n            <div className=\"w-10 h-10 border-4 border-blue-400 border-t-transparent rounded-full animate-spin\"></div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Error */}\r\n        {error && (\r\n          <p className=\"text-red-600 text-center mt-3 font-medium\">{error}</p>\r\n        )}\r\n\r\n        {/* Prediction Result */}\r\n        {result && result.prediction && (\r\n          <div className=\"mt-6 bg-gradient-to-r from-blue-100 to-sky-100 rounded-xl p-5 shadow-inner\">\r\n            <h2 className=\"text-2xl font-bold text-blue-700 text-center mb-2\">\r\n              {result.details?.disease || result.prediction}\r\n            </h2>\r\n            <p className=\"text-gray-700 text-sm mb-2\">\r\n              <span className=\"font-semibold text-gray-900\">Description: </span>\r\n              {result.details?.description}\r\n            </p>\r\n            <p className=\"text-gray-700 text-sm mb-2\">\r\n              <span className=\"font-semibold text-gray-900\">Precautions: </span>\r\n              {result.details?.precautions}\r\n            </p>\r\n            <p className=\"text-gray-700 text-sm\">\r\n              <span className=\"font-semibold text-gray-900\">Cure: </span>\r\n              {result.details?.cure}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <p className=\"text-sm text-gray-500 mt-6\">\r\n        Powered by <span className=\"font-semibold text-blue-600\">AI Dermatology Model</span>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SkinPredictor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}