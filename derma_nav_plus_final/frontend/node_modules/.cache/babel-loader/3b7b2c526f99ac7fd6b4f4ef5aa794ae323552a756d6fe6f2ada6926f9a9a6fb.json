{"ast":null,"code":"import React,{useState}from\"react\";import Header from\"../components/Header\";import Chatbot from\"../components/Chatbot\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function AuthPage(_ref){let{onAuthed,toggleTheme}=_ref;const[isSignup,setIsSignup]=useState(true);const[name,setName]=useState(\"\");const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(\"\");const submit=async e=>{e.preventDefault();setError(\"\");try{if(isSignup){const res=await fetch(\"/api/auth/signup\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name,email,password})});const data=await res.json();if(!data.success)throw new Error(data.message||\"Signup failed\");}const res2=await fetch(\"/api/auth/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email,password})});const data2=await res2.json();if(!data2.success)throw new Error(data2.message||\"Login failed\");localStorage.setItem(\"token\",data2.token);onAuthed(data2.user);}catch(e){setError(e.message);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{authed:false,onToggleTheme:toggleTheme}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"hero\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"AI-Powered Skin Analysis\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Upload an image of your skin condition for preliminary screening and intelligent insights powered by advanced AI.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{maxWidth:560,margin:\"0 auto\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:12},children:[isSignup&&/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Full name\",value:name,onChange:e=>setName(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Email address\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn primary\",onClick:submit,children:isSignup?\"Sign up & Continue\":\"Log in\"}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"err\",children:[\"Error: \",error]}),/*#__PURE__*/_jsxs(\"div\",{className:\"small\",children:[isSignup?\"Already have an account?\":\"New here?\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"link\",onClick:()=>setIsSignup(!isSignup),children:isSignup?\"Log in\":\"Create an account\"})]})]})})]}),/*#__PURE__*/_jsx(Chatbot,{})]});}","map":{"version":3,"names":["React","useState","Header","Chatbot","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AuthPage","_ref","onAuthed","toggleTheme","isSignup","setIsSignup","name","setName","email","setEmail","password","setPassword","error","setError","submit","e","preventDefault","res","fetch","method","headers","body","JSON","stringify","data","json","success","Error","message","res2","data2","localStorage","setItem","token","user","children","authed","onToggleTheme","className","style","maxWidth","margin","display","gap","placeholder","value","onChange","target","type","onClick"],"sources":["C:/Users/kusum/AI_DERMATOLOGIST_capstone/derma_nav_plus_final/frontend/src/pages/AuthPage.jsx"],"sourcesContent":["\r\nimport React, { useState } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport Chatbot from \"../components/Chatbot\";\r\n\r\nexport default function AuthPage({ onAuthed, toggleTheme }){\r\n  const [isSignup, setIsSignup] = useState(true);\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    try {\r\n      if (isSignup) {\r\n        const res = await fetch(\"/api/auth/signup\", { method:\"POST\", headers:{ \"Content-Type\":\"application/json\" }, body: JSON.stringify({ name, email, password }) });\r\n        const data = await res.json(); if(!data.success) throw new Error(data.message || \"Signup failed\");\r\n      }\r\n      const res2 = await fetch(\"/api/auth/login\", { method:\"POST\", headers:{ \"Content-Type\":\"application/json\" }, body: JSON.stringify({ email, password }) });\r\n      const data2 = await res2.json(); if(!data2.success) throw new Error(data2.message || \"Login failed\");\r\n      localStorage.setItem(\"token\", data2.token); onAuthed(data2.user);\r\n    } catch (e) { setError(e.message); }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header authed={false} onToggleTheme={toggleTheme}/>\r\n      <div className=\"container\">\r\n        <section className=\"hero\">\r\n          <h1>AI-Powered Skin Analysis</h1>\r\n          <p>Upload an image of your skin condition for preliminary screening and intelligent insights powered by advanced AI.</p>\r\n        </section>\r\n        <div className=\"card\" style={{maxWidth:560, margin:\"0 auto\"}}>\r\n          <div style={{display:'grid', gap:12}}>\r\n            {isSignup && <input className=\"input\" placeholder=\"Full name\" value={name} onChange={e=>setName(e.target.value)} />}\r\n            <input className=\"input\" placeholder=\"Email address\" type=\"email\" value={email} onChange={e=>setEmail(e.target.value)} />\r\n            <input className=\"input\" placeholder=\"Password\" type=\"password\" value={password} onChange={e=>setPassword(e.target.value)} />\r\n            <button className=\"btn primary\" onClick={submit}>{isSignup ? \"Sign up & Continue\" : \"Log in\"}</button>\r\n            {error && <div className=\"err\">Error: {error}</div>}\r\n            <div className=\"small\">{isSignup ? \"Already have an account?\" : \"New here?\"} <span className=\"link\" onClick={()=>setIsSignup(!isSignup)}>{isSignup ? \"Log in\" : \"Create an account\"}</span></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Chatbot/>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}