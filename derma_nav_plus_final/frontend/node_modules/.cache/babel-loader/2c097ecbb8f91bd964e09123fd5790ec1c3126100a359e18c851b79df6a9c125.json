{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bhumi\\\\Downloads\\\\derma_nav_plus_final (4)\\\\derma_nav_plus_final\\\\frontend\\\\src\\\\pages\\\\Dashboard.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Header from \"../components/Header\";\nimport Nav from \"../components/Nav\";\nimport Chatbot from \"../components/Chatbot\";\nimport diseaseDatabase from \"../data/diseaseDatabase\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Analyzer() {\n  _s();\n  const [file, setFile] = useState(null);\n  const [preview, setPreview] = useState(null);\n  const [result, setResult] = useState(null);\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [camOn, setCamOn] = useState(false);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const token = localStorage.getItem(\"token\");\n  const onFile = e => {\n    var _e$target$files;\n    const f = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    setFile(f || null);\n    setResult(null);\n    setError(\"\");\n    if (f) setPreview(URL.createObjectURL(f));\n  };\n  const startCam = async () => {\n    try {\n      const s = await navigator.mediaDevices.getUserMedia({\n        video: true\n      });\n      videoRef.current.srcObject = s;\n      await videoRef.current.play();\n      setCamOn(true);\n    } catch (e) {\n      setError(e.message);\n    }\n  };\n  const stopCam = () => {\n    const v = videoRef.current;\n    if (v && v.srcObject) {\n      v.srcObject.getTracks().forEach(t => t.stop());\n      v.srcObject = null;\n      setCamOn(false);\n    }\n  };\n  const capture = () => {\n    const v = videoRef.current,\n      c = canvasRef.current;\n    c.width = v.videoWidth;\n    c.height = v.videoHeight;\n    c.getContext(\"2d\").drawImage(v, 0, 0);\n    c.toBlob(b => {\n      const f = new File([b], \"capture.jpg\", {\n        type: \"image/jpeg\"\n      });\n      setFile(f);\n      setPreview(URL.createObjectURL(f));\n    }, \"image/jpeg\");\n  };\n  const analyze = async () => {\n    if (!file) return;\n    setLoading(true);\n    setError(\"\");\n    setResult(null);\n    try {\n      const fd = new FormData();\n      fd.append(\"image\", file);\n      const res = await fetch(\"/api/analyze\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`\n        },\n        body: fd\n      });\n      const data = await res.json();\n      if (!data.success) throw new Error(data.message || \"Prediction failed\");\n      setResult(data);\n    } catch (e) {\n      setError(e.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const info = result ? diseaseDatabase[result.key || \"normal skin\"] : null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"upload-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"big-icon\",\n          children: \"\\uD83D\\uDCF7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginTop: 14\n          },\n          children: \"Upload Skin Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"small\",\n          children: \"Drag and drop or click to select (JPG, PNG)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 10,\n            marginTop: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"btn primary\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: onFile,\n              style: {\n                display: 'none'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, this), \"Choose Image\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: startCam,\n            disabled: camOn,\n            children: \"Start Camera\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: capture,\n            disabled: !camOn,\n            children: \"Capture\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: stopCam,\n            disabled: !camOn,\n            children: \"Stop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n          ref: videoRef,\n          className: \"preview\",\n          style: {\n            marginTop: 12\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef,\n          style: {\n            display: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Preview & Analyze\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), preview ? /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"preview\",\n          src: preview,\n          alt: \"preview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 22\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"small\",\n          children: \"No image chosen yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 79\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 12\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn primary\",\n            onClick: analyze,\n            disabled: !file || loading,\n            children: loading ? \"Analyzing...\" : \"Analyze Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"err\",\n          style: {\n            marginTop: 10\n          },\n          children: [\"Error: \", error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 14\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Prediction: \", result.prediction]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"small\",\n            children: [\"Confidence: \", (result.confidence * 100).toFixed(1), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), info && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"small\",\n            style: {\n              marginTop: 10\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Description:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 20\n              }, this), \" \", info.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Precautions:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 20\n              }, this), \" \", info.precautions]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Treatment:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 20\n              }, this), \" \", info.cure]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"small\",\n          style: {\n            marginTop: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Medical Disclaimer:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 57\n          }, this), \" Preliminary screening only; consult a dermatologist.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(Analyzer, \"WQF/xFpX5j0EO3TlKdBUg4MGH40=\");\n_c = Analyzer;\nfunction History() {\n  _s2();\n  const [items, setItems] = useState([]);\n  const token = localStorage.getItem(\"token\");\n  useEffect(() => {\n    (async () => {\n      const res = await fetch(\"/api/history\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const data = await res.json();\n      if (data.success) setItems(data.items);\n    })();\n  }, []);\n  const exportJson = () => {\n    window.open(\"/api/history/export\", \"_blank\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Your Analysis History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn primary\",\n        onClick: exportJson,\n        children: \"Download JSON\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table\",\n      style: {\n        marginTop: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Prediction\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Confidence\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 52\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [items.map(it => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: new Date(it.createdAt).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 43\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: it.prediction\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 93\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [(it.confidence * 100).toFixed(1), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 117\n          }, this)]\n        }, it.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 27\n        }, this)), items.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"3\",\n            className: \"small\",\n            children: \"No records yet. Analyze an image to see it here.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n_s2(History, \"WQxLG0jSi8z/ovcvg+2h1VT9zGY=\");\n_c2 = History;\nfunction Profile() {\n  _s3();\n  const [me, setMe] = useState(null);\n  const token = localStorage.getItem(\"token\");\n  useEffect(() => {\n    (async () => {\n      const res = await fetch(\"/api/me\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const data = await res.json();\n      if (data.success) setMe(data.user);\n    })();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Your Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), me ? /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), \" \", me.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), \" \", me.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Joined:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this), \" \", new Date(me.createdAt).toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 14\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"small\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 16\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n_s3(Profile, \"ayJJJlg3sr/q6HgM2wZ7BIXeNoA=\");\n_c3 = Profile;\nfunction About() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"About DermaScan AI\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"small\",\n      children: \"Final-year engineering project demo featuring AI-powered preliminary screening for skin conditions, real-time camera capture, and integrated guidance via a chatbot.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      style: {\n        marginTop: 10\n      },\n      children: \"FAQ\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"small\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Is this a medical diagnosis?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this), \" No. It\\u2019s a screening tool only.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"How accurate is it?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this), \" Heuristic by default; plug in a TFJS CNN model for higher accuracy.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Where is my data stored?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this), \" Locally in JSON files on the server for demo purposes.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n}\n_c4 = About;\nexport default function Dashboard({\n  onLogout,\n  toggleTheme\n}) {\n  _s4();\n  const [tab, setTab] = useState(\"Dashboard\");\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      authed: true,\n      onLogout: onLogout,\n      onToggleTheme: toggleTheme\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"hero\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"AI-Powered Skin Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Analyze images, review your history, manage your profile, and learn more \\u2014 all from a single dashboard.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Nav, {\n        current: tab,\n        setCurrent: setTab\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), tab === \"Dashboard\" && /*#__PURE__*/_jsxDEV(Analyzer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 31\n      }, this), tab === \"History\" && /*#__PURE__*/_jsxDEV(History, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 29\n      }, this), tab === \"Profile\" && /*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 29\n      }, this), tab === \"About\" && /*#__PURE__*/_jsxDEV(About, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Chatbot, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s4(Dashboard, \"jsxnuDH2c9e7rftXdvbZyH7IzJI=\");\n_c5 = Dashboard;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"Analyzer\");\n$RefreshReg$(_c2, \"History\");\n$RefreshReg$(_c3, \"Profile\");\n$RefreshReg$(_c4, \"About\");\n$RefreshReg$(_c5, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Header","Nav","Chatbot","diseaseDatabase","jsxDEV","_jsxDEV","Fragment","_Fragment","Analyzer","_s","file","setFile","preview","setPreview","result","setResult","error","setError","loading","setLoading","camOn","setCamOn","videoRef","canvasRef","token","localStorage","getItem","onFile","e","_e$target$files","f","target","files","URL","createObjectURL","startCam","s","navigator","mediaDevices","getUserMedia","video","current","srcObject","play","message","stopCam","v","getTracks","forEach","t","stop","capture","c","width","videoWidth","height","videoHeight","getContext","drawImage","toBlob","b","File","type","analyze","fd","FormData","append","res","fetch","method","headers","Authorization","body","data","json","success","Error","info","key","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","display","gap","accept","onChange","onClick","disabled","ref","src","alt","prediction","confidence","toFixed","description","precautions","cure","_c","History","_s2","items","setItems","exportJson","window","open","justifyContent","alignItems","map","it","Date","createdAt","toLocaleString","id","length","colSpan","_c2","Profile","_s3","me","setMe","user","name","email","_c3","About","_c4","Dashboard","onLogout","toggleTheme","_s4","tab","setTab","authed","onToggleTheme","setCurrent","_c5","$RefreshReg$"],"sources":["C:/Users/bhumi/Downloads/derma_nav_plus_final (4)/derma_nav_plus_final/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Header from \"../components/Header\";\nimport Nav from \"../components/Nav\";\nimport Chatbot from \"../components/Chatbot\";\nimport diseaseDatabase from \"../data/diseaseDatabase\";\n\nfunction Analyzer(){\n  const [file, setFile] = useState(null);\n  const [preview, setPreview] = useState(null);\n  const [result, setResult] = useState(null);\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [camOn, setCamOn] = useState(false);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const token = localStorage.getItem(\"token\");\n\n  const onFile = (e) => { const f=e.target.files?.[0]; setFile(f||null); setResult(null); setError(\"\"); if(f) setPreview(URL.createObjectURL(f)); };\n  const startCam = async ()=>{ try{ const s=await navigator.mediaDevices.getUserMedia({video:true}); videoRef.current.srcObject=s; await videoRef.current.play(); setCamOn(true);}catch(e){setError(e.message);} }\n  const stopCam = ()=>{ const v=videoRef.current; if(v&&v.srcObject){ v.srcObject.getTracks().forEach(t=>t.stop()); v.srcObject=null; setCamOn(false);} }\n  const capture = ()=>{ const v=videoRef.current, c=canvasRef.current; c.width=v.videoWidth; c.height=v.videoHeight; c.getContext(\"2d\").drawImage(v,0,0); c.toBlob((b)=>{ const f=new File([b],\"capture.jpg\",{type:\"image/jpeg\"}); setFile(f); setPreview(URL.createObjectURL(f)); },\"image/jpeg\"); };\n\n  const analyze = async ()=>{\n    if(!file) return;\n    setLoading(true); setError(\"\"); setResult(null);\n    try{\n      const fd=new FormData(); fd.append(\"image\", file);\n      const res=await fetch(\"/api/analyze\",{ method:\"POST\", headers:{ Authorization:`Bearer ${token}` }, body:fd });\n      const data=await res.json(); if(!data.success) throw new Error(data.message || \"Prediction failed\");\n      setResult(data);\n    }catch(e){ setError(e.message); }finally{ setLoading(false); }\n  };\n\n  const info = result ? diseaseDatabase[result.key || \"normal skin\"] : null;\n\n  return (\n    <div className=\"card\">\n      <div className=\"grid\">\n        <section className=\"upload-card\">\n          <div className=\"big-icon\">ðŸ“·</div>\n          <h3 style={{marginTop:14}}>Upload Skin Image</h3>\n          <p className=\"small\">Drag and drop or click to select (JPG, PNG)</p>\n          <div style={{display:'flex',gap:10,marginTop:12}}>\n            <label className=\"btn primary\">\n              <input type=\"file\" accept=\"image/*\" onChange={onFile} style={{display:'none'}}/>\n              Choose Image\n            </label>\n            <button className=\"btn\" onClick={startCam} disabled={camOn}>Start Camera</button>\n            <button className=\"btn\" onClick={capture} disabled={!camOn}>Capture</button>\n            <button className=\"btn\" onClick={stopCam} disabled={!camOn}>Stop</button>\n          </div>\n          <video ref={videoRef} className=\"preview\" style={{marginTop:12}}/>\n          <canvas ref={canvasRef} style={{display:'none'}}/>\n        </section>\n\n        <section>\n          <h3>Preview & Analyze</h3>\n          {preview ? <img className=\"preview\" src={preview} alt=\"preview\"/> : <div className=\"small\">No image chosen yet.</div>}\n          <div style={{marginTop:12}}>\n            <button className=\"btn primary\" onClick={analyze} disabled={!file || loading}>{loading ? \"Analyzing...\" : \"Analyze Image\"}</button>\n          </div>\n          {error && <div className=\"err\" style={{marginTop:10}}>Error: {error}</div>}\n          {result && (\n            <div style={{marginTop:14}}>\n              <h3>Prediction: {result.prediction}</h3>\n              <p className=\"small\">Confidence: {(result.confidence*100).toFixed(1)}%</p>\n              {info && (<div className=\"small\" style={{marginTop:10}}>\n                <p><strong>Description:</strong> {info.description}</p>\n                <p><strong>Precautions:</strong> {info.precautions}</p>\n                <p><strong>Treatment:</strong> {info.cure}</p>\n              </div>)}\n            </div>\n          )}\n          <div className=\"small\" style={{marginTop:12}}><strong>Medical Disclaimer:</strong> Preliminary screening only; consult a dermatologist.</div>\n        </section>\n      </div>\n    </div>\n  );\n}\n\nfunction History(){\n  const [items,setItems]=useState([]);\n  const token = localStorage.getItem(\"token\");\n  useEffect(()=>{ (async()=>{ const res=await fetch(\"/api/history\",{headers:{Authorization:`Bearer ${token}`}}); const data=await res.json(); if(data.success) setItems(data.items); })(); },[]);\n  const exportJson = ()=>{ window.open(\"/api/history/export\",\"_blank\"); };\n  return (\n    <div className=\"card\">\n      <div style={{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"}}>\n        <h3>Your Analysis History</h3>\n        <button className=\"btn primary\" onClick={exportJson}>Download JSON</button>\n      </div>\n      <table className=\"table\" style={{marginTop:10}}>\n        <thead><tr><th>Date</th><th>Prediction</th><th>Confidence</th></tr></thead>\n        <tbody>\n          {items.map(it=>(<tr key={it.id}><td>{new Date(it.createdAt).toLocaleString()}</td><td>{it.prediction}</td><td>{(it.confidence*100).toFixed(1)}%</td></tr>))}\n          {items.length===0 && <tr><td colSpan=\"3\" className=\"small\">No records yet. Analyze an image to see it here.</td></tr>}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nfunction Profile(){\n  const [me,setMe]=useState(null);\n  const token = localStorage.getItem(\"token\");\n  useEffect(()=>{ (async()=>{ const res=await fetch(\"/api/me\",{headers:{Authorization:`Bearer ${token}`}}); const data=await res.json(); if(data.success) setMe(data.user); })(); },[]);\n  return (\n    <div className=\"card\">\n      <h3>Your Profile</h3>\n      {me ? (<ul>\n        <li><strong>Name:</strong> {me.name}</li>\n        <li><strong>Email:</strong> {me.email}</li>\n        <li><strong>Joined:</strong> {new Date(me.createdAt).toLocaleString()}</li>\n      </ul>) : <div className=\"small\">Loading...</div>}\n    </div>\n  );\n}\n\nfunction About(){\n  return (\n    <div className=\"card\">\n      <h3>About DermaScan AI</h3>\n      <p className=\"small\">Final-year engineering project demo featuring AI-powered preliminary screening for skin conditions, real-time camera capture, and integrated guidance via a chatbot.</p>\n      <h4 style={{marginTop:10}}>FAQ</h4>\n      <ul className=\"small\">\n        <li><strong>Is this a medical diagnosis?</strong> No. Itâ€™s a screening tool only.</li>\n        <li><strong>How accurate is it?</strong> Heuristic by default; plug in a TFJS CNN model for higher accuracy.</li>\n        <li><strong>Where is my data stored?</strong> Locally in JSON files on the server for demo purposes.</li>\n      </ul>\n    </div>\n  );\n}\n\nexport default function Dashboard({ onLogout, toggleTheme }){\n  const [tab,setTab]=useState(\"Dashboard\");\n  return (\n    <>\n      <Header authed={true} onLogout={onLogout} onToggleTheme={toggleTheme}/>\n      <div className=\"container\">\n        <section className=\"hero\">\n          <h1>AI-Powered Skin Analysis</h1>\n          <p>Analyze images, review your history, manage your profile, and learn more â€” all from a single dashboard.</p>\n        </section>\n        <Nav current={tab} setCurrent={setTab}/>\n        {tab===\"Dashboard\" && <Analyzer/>}\n        {tab===\"History\" && <History/>}\n        {tab===\"Profile\" && <Profile/>}\n        {tab===\"About\" && <About/>}\n      </div>\n      <Chatbot/>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}